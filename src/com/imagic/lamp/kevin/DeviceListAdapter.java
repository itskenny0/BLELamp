package com.imagic.lamp.kevin;import android.bluetooth.BluetoothDevice;import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.TextView;import com.imagic.lamp.kevin.ble.RFImagicManage;/** *  * @author kevin.wu *  */public class DeviceListAdapter extends BaseAdapter {	private LayoutInflater factory;	private Context context;	public DeviceListAdapter(Context context) {		this.context = context;		factory = LayoutInflater.from(this.context);	}	@Override	public int getCount() {		return RFImagicManage.getInstance().getBLEDeviceCount();	}	@Override	public Object getItem(int position) {		return position;	}	@Override	public long getItemId(int position) {		return position;	}	@Override	public View getView(int position, View convertView, ViewGroup parent) {		DeviceItem item = null;		if (convertView == null) {			convertView = factory.inflate(R.layout.listitem_device, null);			item = new DeviceItem();			item.deviceName = (TextView) convertView					.findViewById(R.id.device_name);			item.deviceAddress = (TextView) convertView					.findViewById(R.id.device_address);			convertView.setTag(item);		} else {			item = (DeviceItem) convertView.getTag();		}		BluetoothDevice device = RFImagicManage.getInstance().getBLEDevice(position);		String name = device.getName();		if (name != null && !name.equals(""))			item.deviceName.setText(name);		else			item.deviceName.setText(R.string.no_data);		item.deviceAddress.setText(device.getAddress());				return convertView;	}	private class DeviceItem {		TextView deviceName;		TextView deviceAddress;	}}